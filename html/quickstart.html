
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Horizon Quickstart &mdash; Horizon 2014.1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2014.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Horizon 2014.1 documentation" href="index.html" />
    <link rel="next" title="Building on Horizon" href="topics/tutorial.html" />
    <link rel="prev" title="Introducing Horizon" href="intro.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="horizon-quickstart">
<h1>Horizon Quickstart<a class="headerlink" href="#horizon-quickstart" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section has been tested for Horizon on Ubuntu (12.04-64) and Fedora-based (RHEL 6.4) distributions. Feel free to add notes and any changes according to your experiences or operating system.</p>
</div>
<div class="section" id="linux-systems">
<h2>Linux Systems<a class="headerlink" href="#linux-systems" title="Permalink to this headline">¶</a></h2>
<p>Install the prerequisite packages.</p>
<p>On Ubuntu:</p>
<div class="highlight-python"><pre>&gt; sudo apt-get install git python-dev python-virtualenv libssl-dev libffi-dev</pre>
</div>
<p>On Fedora-based distributions (e.g., Fedora/RHEL/CentOS/Scientific Linux):</p>
<div class="highlight-python"><pre>&gt; sudo yum install gcc git-core python-devel python-virtualenv openssl-devel libffi-devel</pre>
</div>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>To setup a Horizon development environment simply clone the Horizon git
repository from <a class="reference external" href="http://github.com/openstack/horizon">http://github.com/openstack/horizon</a> and execute the
<tt class="docutils literal"><span class="pre">run_tests.sh</span></tt> script from the root folder (see <a class="reference internal" href="ref/run_tests.html"><em>The run_tests.sh Script</em></a>):</p>
<div class="highlight-python"><pre>&gt; git clone https://github.com/openstack/horizon.git
&gt; cd horizon
&gt; ./run_tests.sh</pre>
</div>
<p>Next you will need to setup your Django application config by copying <tt class="docutils literal"><span class="pre">openstack_dashboard/local/local_settings.py.example</span></tt> to <tt class="docutils literal"><span class="pre">openstack_dashboard/local/local_settings.py</span></tt>. To do this quickly you can use the following command:</p>
<div class="highlight-python"><pre>&gt; cp openstack_dashboard/local/local_settings.py.example openstack_dashboard/local/local_settings.py</pre>
</div>
<p>Horizon assumes a single end-point for OpenStack services which defaults to
the local host (127.0.0.1). If this is not the case change the
<tt class="docutils literal"><span class="pre">OPENSTACK_HOST</span></tt> setting in the <tt class="docutils literal"><span class="pre">openstack_dashboard/local/local_settings.py</span></tt> file, to the actual IP address of the OpenStack end-point Horizon should use.</p>
<p>To start the Horizon development server use the Django <tt class="docutils literal"><span class="pre">manage.py</span></tt> utility
with the context of the virtual environment:</p>
<div class="highlight-python"><pre>&gt; tools/with_venv.sh ./manage.py runserver</pre>
</div>
<p>Alternately specify the listen IP and port:</p>
<div class="highlight-python"><pre>&gt; tools/with_venv.sh ./manage.py runserver 0.0.0.0:8080</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you would like to run commands without the prefix of <tt class="docutils literal"><span class="pre">tools/with_venv.sh</span></tt> you may source your environment directly. This will remain active as long as your shell session stays open:</p>
<div class="last highlight-python"><pre>&gt; source .venv/bin/activate</pre>
</div>
</div>
<p>Once the Horizon server is running point a web browser to <a class="reference external" href="http://localhost:8000">http://localhost:8000</a>
or to the IP and port the server is listening for.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">DevStack</span></tt> project (<a class="reference external" href="http://devstack.org/">http://devstack.org/</a>) can be used to install
an OpenStack development environment from scratch.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The minimum required set of OpenStack services running includes the
following:</p>
<ul class="simple">
<li>Nova (compute, api, scheduler, and network)</li>
<li>Glance</li>
<li>Keystone</li>
</ul>
<p class="last">Optional support is provided for Swift.</p>
</div>
</div>
<div class="section" id="horizon-s-structure">
<h2>Horizon&#8217;s Structure<a class="headerlink" href="#horizon-s-structure" title="Permalink to this headline">¶</a></h2>
<p>This project is a bit different from other OpenStack projects in that it has
two very distinct components underneath it: <tt class="docutils literal"><span class="pre">horizon</span></tt>, and
<tt class="docutils literal"><span class="pre">openstack_dashboard</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">horizon</span></tt> directory holds the generic libraries and components that can
be used in any Django project.</p>
<p>The <tt class="docutils literal"><span class="pre">openstack_dashboard</span></tt> directory contains a reference Django project that
uses <tt class="docutils literal"><span class="pre">horizon</span></tt>.</p>
<p>For development, both pieces share an environment which (by default) is
built with the <tt class="docutils literal"><span class="pre">tools/install_venv.py</span></tt> script. That script creates a
virtualenv and installs all the necessary packages.</p>
<p>If dependencies are added to either <tt class="docutils literal"><span class="pre">horizon</span></tt> or <tt class="docutils literal"><span class="pre">openstack_dashboard</span></tt>,
they should be added to <tt class="docutils literal"><span class="pre">requirements.txt</span></tt>.</p>
<blockquote>
<div><div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If you do anything which changes the environment (adding new dependencies
or renaming directories are both great examples) be sure to increment the
<tt class="docutils literal"><span class="pre">environment_version</span></tt> counter in <a class="reference internal" href="ref/run_tests.html"><em>run_tests.sh</em></a>.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="project">
<h2>Project<a class="headerlink" href="#project" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installed-apps">
<h3>INSTALLED_APPS<a class="headerlink" href="#installed-apps" title="Permalink to this headline">¶</a></h3>
<p>At the project level you add Horizon and any desired dashboards to your
<tt class="docutils literal"><span class="pre">settings.INSTALLED_APPS</span></tt>:</p>
<div class="highlight-python"><pre>INSTALLED_APPS = (
    'openstack_dashboard',
    ...
    'horizon',
    'openstack_dashboard.dashboards.project',
    'openstack_dashboard.dashboards.admin',
    'openstack_dashboard.dashboards.settings',
    ...
)</pre>
</div>
</div>
<div class="section" id="urls">
<h3>URLs<a class="headerlink" href="#urls" title="Permalink to this headline">¶</a></h3>
<p>Then you add a single line to your project&#8217;s <tt class="docutils literal"><span class="pre">urls.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">url</span><span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">horizon</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
</pre></div>
</div>
<p>Those urls are automatically constructed based on the registered Horizon apps.
If a different URL structure is desired it can be constructed by hand.</p>
</div>
<div class="section" id="templates">
<h3>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h3>
<p>Pre-built template tags generate navigation. In your <tt class="docutils literal"><span class="pre">nav.html</span></tt>
template you might have the following:</p>
<div class="highlight-python"><pre>{% load horizon %}

&lt;div class='nav'&gt;
    {% horizon_main_nav %}
&lt;/div&gt;</pre>
</div>
<p>And in your <tt class="docutils literal"><span class="pre">sidebar.html</span></tt> you might have:</p>
<div class="highlight-python"><pre>{% load horizon %}

&lt;div class='sidebar'&gt;
    {% horizon_dashboard_nav %}
&lt;/div&gt;</pre>
</div>
<p>These template tags are aware of the current &#8220;active&#8221; dashboard and panel
via template context variables and will render accordingly.</p>
</div>
</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="structure">
<h3>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h3>
<p>An application would have the following structure (we&#8217;ll use syspanel as
an example):</p>
<div class="highlight-python"><pre>project/
|---__init__.py
|---dashboard.py &lt;-----Registers the app with Horizon and sets dashboard properties
|---overview/
|---images_and_snapshots/
    |-- images
    |-- __init__.py
    |---panel.py &lt;-----Registers the panel in the app and defines panel properties
    |-- snapshots/
    |-- templates/
    |-- tests.py
    |-- urls.py
    |-- views.py
    ...
...</pre>
</div>
</div>
<div class="section" id="dashboard-classes">
<h3>Dashboard Classes<a class="headerlink" href="#dashboard-classes" title="Permalink to this headline">¶</a></h3>
<p>Inside of <tt class="docutils literal"><span class="pre">dashboard.py</span></tt> you would have a class definition and the registration
process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">horizon</span>

<span class="o">....</span>
<span class="c"># ObjectStorePanels is an example for a PanelGroup</span>
<span class="c"># for panel classes in general, see below</span>
<span class="k">class</span> <span class="nc">ObjectStorePanels</span><span class="p">(</span><span class="n">horizon</span><span class="o">.</span><span class="n">PanelGroup</span><span class="p">):</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="s">&quot;object_store&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;Object Store&quot;</span><span class="p">)</span>
    <span class="n">panels</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;containers&#39;</span><span class="p">,)</span>


<span class="k">class</span> <span class="nc">Project</span><span class="p">(</span><span class="n">horizon</span><span class="o">.</span><span class="n">Dashboard</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;Project&quot;</span><span class="p">)</span> <span class="c"># Appears in navigation</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="s">&quot;project&quot;</span>    <span class="c"># Appears in URL</span>
    <span class="c"># panels may be strings or refer to classes, such as</span>
    <span class="c"># ObjectStorePanels</span>
    <span class="n">panels</span> <span class="o">=</span> <span class="p">(</span><span class="n">BasePanels</span><span class="p">,</span> <span class="n">NetworkPanels</span><span class="p">,</span> <span class="n">ObjectStorePanels</span><span class="p">)</span>
    <span class="n">default_panel</span> <span class="o">=</span> <span class="s">&#39;overview&#39;</span>
    <span class="n">supports_tenants</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="o">...</span>

<span class="n">horizon</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Project</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="panel-classes">
<h3>Panel Classes<a class="headerlink" href="#panel-classes" title="Permalink to this headline">¶</a></h3>
<p>To connect a <a class="reference internal" href="ref/horizon.html#horizon.Panel" title="horizon.Panel"><tt class="xref py py-class docutils literal"><span class="pre">Panel</span></tt></a> with a <a class="reference internal" href="ref/horizon.html#horizon.Dashboard" title="horizon.Dashboard"><tt class="xref py py-class docutils literal"><span class="pre">Dashboard</span></tt></a> class
you register it in a <tt class="docutils literal"><span class="pre">panel.py</span></tt> file like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">horizon</span>

<span class="kn">from</span> <span class="nn">openstack_dashboard.dashboards.project</span> <span class="kn">import</span> <span class="n">dashboard</span>


<span class="k">class</span> <span class="nc">Images</span><span class="p">(</span><span class="n">horizon</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Images&quot;</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="s">&#39;images&#39;</span>
    <span class="n">permissions</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;openstack.roles.admin&#39;</span><span class="p">,</span> <span class="s">&#39;my.other.permission&#39;</span><span class="p">,)</span>


<span class="c"># You could also register your panel with another application&#39;s dashboard</span>
<span class="n">dashboard</span><span class="o">.</span><span class="n">Project</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Images</span><span class="p">)</span>
</pre></div>
</div>
<p>By default a <a class="reference internal" href="ref/horizon.html#horizon.Panel" title="horizon.Panel"><tt class="xref py py-class docutils literal"><span class="pre">Panel</span></tt></a> class looks for a <tt class="docutils literal"><span class="pre">urls.py</span></tt> file in the
same directory as <tt class="docutils literal"><span class="pre">panel.py</span></tt> to include in the rollup of url patterns from
panels to dashboards to Horizon, resulting in a wholly extensible, configurable
URL structure.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Horizon Quickstart</a><ul>
<li><a class="reference internal" href="#linux-systems">Linux Systems</a></li>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#horizon-s-structure">Horizon&#8217;s Structure</a></li>
<li><a class="reference internal" href="#project">Project</a><ul>
<li><a class="reference internal" href="#installed-apps">INSTALLED_APPS</a></li>
<li><a class="reference internal" href="#urls">URLs</a></li>
<li><a class="reference internal" href="#templates">Templates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application">Application</a><ul>
<li><a class="reference internal" href="#structure">Structure</a></li>
<li><a class="reference internal" href="#dashboard-classes">Dashboard Classes</a></li>
<li><a class="reference internal" href="#panel-classes">Panel Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="intro.html"
                                  title="previous chapter">Introducing Horizon</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="topics/tutorial.html"
                                  title="next chapter">Building on Horizon</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/quickstart.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="topics/tutorial.html" title="Building on Horizon"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introducing Horizon"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Horizon 2014.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, OpenStack Foundation.
      Last updated on Tue Mar 11 04:36:31 2014, commit 1b0106e.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>